import { Achievement, GameState } from '@/types';

/**
 * List of all achievements in the game
 */
export const achievements: Achievement[] = [
  // Progression Achievements
  {
    id: 'first_steps',
    name: 'Premiers Pas dans la Manipulation',
    description: 'Cliquez 50 fois sur le bouton "Manipuler". Tout le monde commence quelque part.',
    category: 'progression',
    rarity: 'common',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'action_count',
      target: 'manipulate_clicks',
      count: 50
    },
    icon: 'üë£',
    color: 'bg-blue-100 text-blue-800',
    shareText: 'Je fais mes premiers pas dans l\'art de la manipulation dans #Propagation. Un long chemin vers l\'influence m\'attend !'
  },
  {
    id: 'middle_ages_unlocked',
    name: 'Obscurantisme √âclair√©',
    description: 'D√©bloquez l\'√®re du Moyen √Çge. Les manuscrits enlumin√©s cachent parfois des v√©rit√©s sombres.',
    category: 'progression',
    rarity: 'common',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'progression',
      target: 'era_unlocked',
      threshold: 1, // index of Middle Ages
      compare: 'equal'
    },
    reward: {
      type: 'resource_multiplier',
      target: 'credibility',
      value: 1.1,
      description: '+10% de cr√©dibilit√©'
    },
    icon: 'üè∞',
    color: 'bg-amber-100 text-amber-800',
    shareText: 'J\'ai d√©bloqu√© le Moyen √Çge dans #Propagation ! Qui a besoin de la Renaissance quand on peut manipuler avec des manuscrits ?'
  },
  {
    id: 'industrial_unlocked',
    name: 'Presse √† Impressionner',
    description: 'D√©bloquez l\'√®re Industrielle. La presse peut imprimer des journaux... ou des mensonges en masse.',
    category: 'progression',
    rarity: 'uncommon',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'progression',
      target: 'era_unlocked',
      threshold: 2, // index of Industrial era
      compare: 'equal'
    },
    reward: {
      type: 'resource_multiplier',
      target: 'networks',
      value: 1.2,
      description: '+20% de r√©seaux'
    },
    icon: 'üè≠',
    color: 'bg-gray-100 text-gray-800',
    shareText: 'L\'√®re Industrielle est √† moi dans #Propagation ! Propager des mensonges n\'a jamais √©t√© aussi efficace !'
  },
  {
    id: 'coldwar_unlocked',
    name: 'Rideau de Fum√©e',
    description: 'D√©bloquez l\'√®re de la Guerre Froide. Dans un monde bipolaire, la v√©rit√© est la premi√®re victime.',
    category: 'progression',
    rarity: 'rare',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'progression',
      target: 'era_unlocked',
      threshold: 3, // index of Cold War era
      compare: 'equal'
    },
    reward: {
      type: 'resource_multiplier',
      target: 'influence',
      value: 1.3,
      description: '+30% d\'influence'
    },
    icon: '‚ò¢Ô∏è',
    color: 'bg-red-100 text-red-800',
    shareText: 'La Guerre Froide d√©bloqu√©e dans #Propagation ! Je fais de la propagande comme au bon vieux temps de McCarthy !'
  },
  {
    id: 'digital_unlocked',
    name: 'Viralisateur',
    description: 'D√©bloquez l\'√®re Num√©rique. Les bulles de filtres font de vous ce que vous voulez voir.',
    category: 'progression',
    rarity: 'epic',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'progression',
      target: 'era_unlocked',
      threshold: 4, // index of Digital era
      compare: 'equal'
    },
    reward: {
      type: 'resource_multiplier',
      target: 'manipulationPoints',
      value: 1.5,
      description: '+50% de points de manipulation'
    },
    icon: 'üíª',
    color: 'bg-purple-100 text-purple-800',
    shareText: '√àre Num√©rique ma√Ætris√©e dans #Propagation ! Mes algorithmes vous font voir exactement ce que je veux que vous croyiez !'
  },
  
  // Resource Achievements
  {
    id: 'credibility_100',
    name: 'Voix de la Raison',
    description: 'Atteignez 100 points de Cr√©dibilit√©. On commence √† vous √©couter.',
    category: 'resources',
    rarity: 'common',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'resource_threshold',
      target: 'credibility',
      threshold: 100,
      compare: 'greater'
    },
    icon: 'üëÇ',
    color: 'bg-green-100 text-green-800',
    shareText: 'On m\'√©coute enfin dans #Propagation ! 100 de Cr√©dibilit√©, c\'est comme √ßa qu\'on commence √† contr√¥ler l\'info !'
  },
  {
    id: 'influence_500',
    name: 'Influenceur en Herbe',
    description: 'Atteignez 500 points d\'Influence. Votre voix porte plus loin.',
    category: 'resources',
    rarity: 'uncommon',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'resource_threshold',
      target: 'influence',
      threshold: 500,
      compare: 'greater'
    },
    reward: {
      type: 'resource_bonus',
      target: 'networks',
      value: 50,
      description: '+50 r√©seaux'
    },
    icon: 'üîä',
    color: 'bg-purple-100 text-purple-800',
    shareText: 'Avec 500 d\'Influence dans #Propagation, je suis plus influent que certains "experts" TV !'
  },
  {
    id: 'networks_1000',
    name: 'Tisseur de Toiles',
    description: 'Atteignez 1000 points de R√©seaux. Votre toile s\'√©tend dans tous les coins.',
    category: 'resources',
    rarity: 'rare',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'resource_threshold',
      target: 'networks',
      threshold: 1000,
      compare: 'greater'
    },
    reward: {
      type: 'resource_bonus',
      target: 'credibility',
      value: 100,
      description: '+100 cr√©dibilit√©'
    },
    icon: 'üï∏Ô∏è',
    color: 'bg-blue-100 text-blue-800',
    shareText: 'Ma toile d\'influence atteint 1000 R√©seaux dans #Propagation ! Une araign√©e serait jalouse de mon r√©seau !'
  },
  {
    id: 'manipulation_2000',
    name: 'Maestro des Esprits',
    description: 'Accumulez 2000 points de Manipulation. Les pens√©es des autres deviennent votre instrument.',
    category: 'resources',
    rarity: 'epic',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'resource_threshold',
      target: 'manipulationPoints',
      threshold: 2000,
      compare: 'greater'
    },
    reward: {
      type: 'resource_multiplier',
      target: 'manipulationPoints',
      value: 1.2,
      description: '+20% de g√©n√©ration de points de manipulation'
    },
    icon: 'üé≠',
    color: 'bg-red-100 text-red-800',
    shareText: 'Avec 2000 points de Manipulation dans #Propagation, je joue de l\'esprit humain comme d\'un violon ! üéª'
  },
  {
    id: 'resource_millionaire',
    name: 'Oligarque de l\'Information',
    description: 'Poss√©dez 1000 de chaque ressource simultan√©ment. Le monde est votre √©chiquier.',
    category: 'resources',
    rarity: 'legendary',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'specific_combination',
      customCheck: (state: GameState) => {
        return state.resources.credibility >= 1000 &&
               state.resources.influence >= 1000 &&
               state.resources.networks >= 1000 &&
               state.resources.manipulationPoints >= 1000;
      }
    },
    reward: {
      type: 'special_effect',
      description: 'D√©bloque l\'accomplissement secret "Qu\'est-ce qu\'on fait maintenant ?"'
    },
    icon: 'üëë',
    color: 'bg-yellow-100 text-yellow-800',
    shareText: 'Je contr√¥le TOUTE l\'information dans #Propagation ! Avec 1000+ de chaque ressource, je suis pratiquement un dieu de la propagande !'
  },
  
  // Ethics Achievements
  {
    id: 'ethical_choice_first',
    name: 'Premi√®re Conscience',
    description: 'Effectuez votre premi√®re action √©thique. La manipulation a-t-elle vraiment un prix?',
    category: 'ethics',
    rarity: 'common',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'action_count',
      target: 'ethical_actions',
      count: 1
    },
    icon: 'üå±',
    color: 'bg-green-100 text-green-800',
    shareText: 'J\'ai fait ma premi√®re action √©thique dans #Propagation ! Il para√Æt qu\'on peut gagner sans manipuler... on verra bien !'
  },
  {
    id: 'critical_thinking_50',
    name: '√âveil du Doute',
    description: 'Atteignez 50 de Pens√©e Critique. Vous commencez √† questionner vos propres m√©thodes.',
    category: 'ethics',
    rarity: 'uncommon',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'resource_threshold',
      target: 'criticalThinking',
      threshold: 50,
      compare: 'greater'
    },
    reward: {
      type: 'resource_multiplier',
      target: 'credibility',
      value: 1.15,
      description: '+15% de cr√©dibilit√©'
    },
    icon: 'ü§î',
    color: 'bg-blue-100 text-blue-800',
    shareText: 'J\'atteins 50 de Pens√©e Critique dans #Propagation ! Je commence √† me demander si ce jeu n\'est pas en train de ME manipuler... üßê'
  },
  {
    id: 'ethical_score_75',
    name: 'Bonne Conscience',
    description: 'Atteignez un score √âthique de 75. Vous privil√©giez la v√©rit√© √† la manipulation.',
    category: 'ethics',
    rarity: 'rare',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'resource_threshold',
      target: 'ethicalScore',
      threshold: 75,
      compare: 'greater'
    },
    reward: {
      type: 'special_effect',
      description: 'R√©v√®le un indice sur l\'accomplissement secret "M√©ta-√©thique"'
    },
    icon: 'üòá',
    color: 'bg-green-100 text-green-800',
    shareText: 'Score √âthique 75+ dans #Propagation ! Je suis tellement moral que j\'en deviens presque ennuyeux...'
  },
  {
    id: 'ethical_mode_switch',
    name: 'Changement de Paradigme',
    description: 'Passez du mode Manipulation au mode R√©v√©lation. Est-ce un nouveau d√©part ou une manipulation plus subtile?',
    category: 'ethics',
    rarity: 'rare',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'special_action',
      target: 'switch_to_revelation'
    },
    icon: 'üîÑ',
    color: 'bg-indigo-100 text-indigo-800',
    shareText: 'J\'ai bascul√© vers le mode R√©v√©lation dans #Propagation ! Plus de manipulation... ou est-ce juste une m√©ta-manipulation ? ü§Ø'
  },
  
  // Manipulation Achievements
  {
    id: 'first_theory',
    name: 'Apprenti Conspirateur',
    description: 'Propagez votre premi√®re th√©orie du complot. C\'est si facile de semer le doute.',
    category: 'manipulation',
    rarity: 'common',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'action_count',
      target: 'theories_propagated',
      count: 1
    },
    icon: 'üîç',
    color: 'bg-orange-100 text-orange-800',
    shareText: 'Je viens de lancer ma premi√®re th√©orie du complot dans #Propagation ! On dit que c\'est addictif... üëÄ'
  },
  {
    id: 'theory_master',
    name: 'Ma√Ætre Complotiste',
    description: 'Propagez 10 th√©ories du complot. Pourquoi se contenter d\'une simple v√©rit√© quand on peut en cr√©er de multiples?',
    category: 'manipulation',
    rarity: 'epic',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'action_count',
      target: 'theories_propagated',
      count: 10
    },
    reward: {
      type: 'resource_multiplier',
      target: 'influence',
      value: 1.25,
      description: '+25% d\'influence'
    },
    icon: 'üå™Ô∏è',
    color: 'bg-red-100 text-red-800',
    shareText: 'J\'ai propag√© 10 th√©ories du complot dans #Propagation ! √Ä ce stade, m√™me moi je ne sais plus ce qui est vrai... ü§™'
  },
  {
    id: 'ethical_zero',
    name: 'Ab√Æme Moral',
    description: 'Atteignez un score √âthique de 0. Vous √™tes au-del√† des consid√©rations morales.',
    category: 'manipulation',
    rarity: 'legendary',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'resource_threshold',
      target: 'ethicalScore',
      threshold: 0,
      compare: 'equal'
    },
    reward: {
      type: 'resource_multiplier',
      target: 'manipulationPoints',
      value: 1.5,
      description: '+50% de points de manipulation'
    },
    icon: 'üòà',
    color: 'bg-black text-red-500',
    shareText: 'J\'ai atteint 0 d\'√âthique dans #Propagation ! Toute ressemblance avec des personnalit√©s existantes serait purement fortuite... üòà'
  },
  
  // Meta Achievements
  {
    id: 'first_achievement',
    name: 'M√©ta-R√©compense',
    description: 'Obtenez votre premier accomplissement. Oui, celui-ci. C\'est r√©cursif.',
    category: 'meta',
    rarity: 'common',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'special_action',
      target: 'first_achievement'
    },
    icon: 'üèÜ',
    color: 'bg-yellow-100 text-yellow-800',
    shareText: 'Je viens d\'obtenir un accomplissement pour avoir obtenu un accomplissement dans #Propagation ! C\'est m√©ta, non ?'
  },
  {
    id: 'share_achievement',
    name: 'Propagateur Viral',
    description: 'Partagez un accomplissement sur les r√©seaux sociaux. La manipulation s\'√©tend au-del√† du jeu.',
    category: 'meta',
    rarity: 'uncommon',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'special_action',
      target: 'share_achievement'
    },
    reward: {
      type: 'resource_bonus',
      target: 'networks',
      value: 100,
      description: '+100 r√©seaux'
    },
    icon: 'üì±',
    color: 'bg-blue-100 text-blue-800',
    shareText: 'Je viens de partager un accomplissement de #Propagation... ce qui m\'a donn√© cet accomplissement que je partage maintenant ! #PropagationCeption'
  },
  {
    id: 'spot_gaslight',
    name: 'D√©tecteur de Manipulation',
    description: 'Rep√©rez et cliquez sur un effet de gaslighting. Vous commencez √† voir √† travers la matrice.',
    category: 'meta',
    rarity: 'rare',
    isSecret: false,
    unlocked: false,
    condition: {
      type: 'special_action',
      target: 'click_gaslight_effect'
    },
    reward: {
      type: 'resource_bonus',
      target: 'criticalThinking',
      value: 5,
      description: '+5 pens√©e critique'
    },
    icon: 'üëÅÔ∏è',
    color: 'bg-purple-100 text-purple-800',
    shareText: 'J\'ai rep√©r√© un effet de gaslighting dans #Propagation ! Le jeu essaie de me manipuler, mais je vois clair dans son petit jeu ! üëÄ'
  },
  
  // Secret Achievements
  {
    id: 'reverse_manipulation',
    name: 'Manipulant Manipul√©',
    description: 'Cliquez 1000 fois sur Manipuler... pour d√©couvrir que c\'est vous qui √™tes manipul√© par le jeu.',
    category: 'secret',
    rarity: 'epic',
    isSecret: true,
    hint: 'Parfois, celui qui croit manipuler est lui-m√™me manipul√©...',
    unlocked: false,
    condition: {
      type: 'action_count',
      target: 'manipulate_clicks',
      count: 1000
    },
    icon: 'ü™û',
    color: 'bg-indigo-100 text-indigo-800',
    shareText: 'Apr√®s 1000 clics dans #Propagation, j\'ai r√©alis√© une v√©rit√© troublante : je manipule ou JE SUIS manipul√© ? ü§Ø'
  },
  {
    id: 'schrodingers_ethics',
    name: '√âthique de Schr√∂dinger',
    description: 'Atteignez simultan√©ment 100 de Pens√©e Critique et 0 d\'√âthique. Une conscience aiguis√©e au service d\'une morale √©teinte.',
    category: 'secret',
    rarity: 'legendary',
    isSecret: true,
    hint: 'Peut-on voir clairement tout en choisissant l\'obscurit√© ?',
    unlocked: false,
    condition: {
      type: 'specific_combination',
      customCheck: (state: GameState) => {
        return state.criticalThinking >= 100 && state.ethicalScore <= 0;
      }
    },
    icon: 'üê±',
    color: 'bg-gray-900 text-green-300',
    shareText: 'Dans #Propagation, j\'ai atteint l\'impossible : 100% de lucidit√©, 0% de morale. Je vois parfaitement le mal que je fais ! üê±üì¶'
  },
  {
    id: 'what_now',
    name: 'Qu\'est-ce qu\'on fait maintenant ?',
    description: 'D√©bloqu√© toutes les √®res et accumul√© 10,000+ de chaque ressource. Vous avez "fini" le jeu... ou est-ce que le jeu vous a fini ?',
    category: 'secret',
    rarity: 'legendary',
    isSecret: true,
    hint: 'Au sommet de la montagne, quelle vue reste-t-il √† conqu√©rir ?',
    unlocked: false,
    condition: {
      type: 'specific_combination',
      customCheck: (state: GameState) => {
        const allErasUnlocked = state.eras.every(era => era.unlocked);
        return allErasUnlocked && 
               state.resources.credibility >= 10000 &&
               state.resources.influence >= 10000 &&
               state.resources.networks >= 10000 &&
               state.resources.manipulationPoints >= 10000;
      }
    },
    icon: 'üèÅ',
    color: 'bg-black text-white',
    shareText: 'J\'ai "fini" #Propagation... ou ai-je seulement commenc√© √† comprendre son vrai message ? 10,000+ de chaque ressource, et maintenant ? ü§î'
  },
  {
    id: 'meta_ethics',
    name: 'M√©ta-√âthique',
    description: 'Obtenez tous les accomplissements de la cat√©gorie √âthique. Le jeu vous a-t-il vraiment rendu plus √©thique, ou juste plus conscient de la manipulation ?',
    category: 'secret',
    rarity: 'epic',
    isSecret: true,
    hint: 'Comprendre l\'√©thique et la pratiquer sont deux choses distinctes.',
    unlocked: false,
    condition: {
      type: 'specific_combination',
      customCheck: (state: GameState) => {
        const ethicsAchievements = state.achievementState.achievements.filter(
          a => a.category === 'ethics' && a.id !== 'meta_ethics'
        );
        return ethicsAchievements.every(a => a.unlocked);
      }
    },
    icon: 'üß†',
    color: 'bg-green-900 text-white',
    shareText: 'J\'ai obtenu tous les accomplissements √©thiques dans #Propagation ! Suis-je vraiment devenu plus √©thique, ou juste plus conscient de ne pas l\'√™tre ? ü§î'
  }
];

/**
 * Initial achievement state
 */
export const initialAchievementState = {
  achievements: achievements.map(achievement => ({ ...achievement, unlocked: false })),
  totalUnlocked: 0,
  totalAchievements: achievements.length,
  newUnlocked: [],
  showAchievementModal: false,
  selectedAchievementId: null
};